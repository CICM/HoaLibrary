max v2;#N vpatcher 158 65 1208 574;#P origin 0 -2;#P window setfont "Sans Serif" 9.;#P hidden newex 176 402 46 196617 onecopy;#P message 93 449 70 196617 ambi.decode~;#P message 17 449 70 196617 ambi.weight~;#P message 93 396 75 196617 ambi.encoden~;#P comment 17 380 53 196617 see also:;#P message 93 422 71 196617 ambi.mirror~;#P message 17 422 68 196617 ambi.rotate~;#P message 17 396 70 196617 ambi.encode~;#P hidden newex 176 447 47 196617 pcontrol;#P hidden newex 176 424 66 196617 prepend help;#P window setfont "Sans Serif" 18.;#N vpatcher 10 59 610 459;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P comment 51 228 136 196617 2 superimposed tetrahedra;#P window linecount 10;#P message 51 244 142 196617 \; decoder speaker 0 0 0 \; decoder speaker 1 180 60 \; decoder speaker 2 120 -30 \; decoder speaker 3 -120 -30 \; decoder speaker 4 180 0 \; decoder speaker 5 0 -60 \; decoder speaker 6 60 30 \; decoder speaker 7 -60 30 \; decoder dump \;;#P window linecount 1;#P comment 198 228 70 196617 cube;#P window linecount 10;#P message 198 244 142 196617 \; decoder speaker 0 -45 -45 \; decoder speaker 1 45 -45 \; decoder speaker 2 135 -45 \; decoder speaker 3 -135 -45 \; decoder speaker 4 -45 45 \; decoder speaker 5 45 45 \; decoder speaker 6 135 45 \; decoder speaker 7 -135 45 \; decoder dump \;;#P window linecount 1;#P comment 50 73 136 196617 horizontal ring (default);#P window linecount 10;#P message 50 89 200 196617 \; decoder speaker_radians 0 -0.392699 0. \; decoder speaker_radians 1 0.392699 0. \; decoder speaker_radians 2 1.178097 0. \; decoder speaker_radians 3 1.963495 0. \; decoder speaker_radians 4 2.748893 0. \; decoder speaker_radians 5 3.534292 0. \; decoder speaker_radians 6 4.31969 0. \; decoder speaker_radians 7 5.105088 0. \; decoder dump \;;#P window setfont "Sans Serif" 14.;#P window linecount 1;#P comment 50 50 327 196622 Examples of defining speaker arrangements:;#P pop;#P newobj 16 322 243 196626 p About_Speaker_Layouts;#P window setfont "Sans Serif" 9.;#P comment 333 102 75 196617 square pulses:;#N vpatcher 10 59 610 459;#P origin 0 -305;#P outlet 92 168 15 0;#P window setfont "Sans Serif" 9.;#P newex 92 141 41 196617 *~ 0.2;#P newex 292 76 60 196617 phasor~ -3;#P newex 92 73 56 196617 rect~ 300;#P newex 92 96 41 196617 *~ 0.3;#P connect 1 0 0 0;#P connect 0 0 3 0;#P connect 3 0 4 0;#P fasten 2 0 3 1 297 117 128 117;#P pop;#P newobj 333 119 48 196617 p source;#P window linecount 2;#P comment 33 203 270 196617 Order: "1st" (default) \, "2nd" or "3rd" (or optionally "1st-order" etc.);#P window linecount 1;#P comment 33 189 270 196617 Dimensions: "2D" (default) or "3D";#P comment 851 236 115 196617 pre-defined weights:;#P window linecount 3;#P comment 833 182 72 196617 zeroth (mono) \, first \, second & third;#P window linecount 1;#P newex 696 281 53 196617 s decoder;#P window setfont "Sans Serif" 18.;#P comment 541 267 132 196626 W X Y U V P Q;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P comment 543 226 132 196617 Ambisonic domain signals for 2-D \, 3rd order:;#P window linecount 3;#P comment 33 246 277 196617 Decoding weight presets ("none" \, "default" \, "in-phase" or "max-re") \, or set of 2 \, 3 or 4 weights (floats) for each order (see below);#P window linecount 1;#P message 761 386 27 196617 stop;#P message 691 386 65 196617 startwindow;#P user panel 683 379 113 30;#X brgb 255 255 255;#X frgb 100 202 30;#X border 2;#X rounded 0;#X shadow 0;#X done;#P newex 696 309 53 196617 r decoder;#P message 789 310 59 196617 dump more;#P hidden newex 761 161 129 196617 loadmess 0.707 1. 0.4 0.1;#P message 753 310 33 196617 dump;#P newex 762 252 83 196617 prepend weights;#P user multiSlider 762 181 67 67 0. 1. 4 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P comment 33 230 277 196617 Number of loudspeakers;#P comment 16 173 205 196617 ambi.encode~ arguments:;#P window linecount 6;#P comment 16 97 289 196617 ambi.decode~ takes an ambisonic encoded soundfield and distributes it to a specified number of loudspeakers. The speaker orientations (from the 'sweet spot') are specified using 'speaker' or 'speaker_radians' messages. If no speaker orientations are specified \, ambi.decode~ assumes an equally spaced horizontal ring.;#P user umenu 853 252 67 196647 1 64 268 1;#X add none;#X add default;#X add in-phase;#X add max-rE;#P window linecount 1;#P newex 333 186 210 196617 ambi.encode~ 2d 3rd degrees;#P newex 458 120 64 196617 phasor~ 0.3;#P window linecount 3;#P comment 627 85 72 196617 mono/spatial balance (default=0.5):;#P window linecount 2;#P comment 565 97 58 196617 global gain control:;#P window linecount 1;#P comment 16 62 300 196617 www.grahamwakefield.net;#P comment 16 50 307 196617 Graham Wakefield \, 2006;#P newex 909 70 108 196617 ambi.conventions.help;#P window linecount 4;#P comment 731 125 272 196617 these messages balance the components of an Ambisonic encoded soundfield per order \, either using a set of pre-defined weights as recommended in the literature \, or by a user-defined set of weights using the 'weights' message:;#P window setfont "Sans Serif" 20.;#P window linecount 1;#P comment 16 21 301 196628 Ambisonic Decoding;#P window setfont "Sans Serif" 9.;#P window linecount 4;#P comment 729 28 300 196617 Inspired by work on a C++ implementation by Jorge Castellanos \, Florian Hollerweger and Graham Wakefield \, using the CSL framework developed at MAT/CREATE \, UCSB (www.create.ucsb.edu/CSL);#P window linecount 1;#P hidden newex 630 101 69 196617 loadmess 0.5;#P flonum 626 130 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 565 129 35 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 626 152 50 196617 width \$1;#P message 565 152 43 196617 gain \$1;#P comment 330 468 346 196617 Output channel orientations (for default horizontal ring layout);#P newex 575 423 105 196617 dac~ 1 2 3 4 5 6 7 8;#P window linecount 3;#P comment 542 427 13 196617 WNW;#P comment 485 427 13 196617 SSW;#P comment 457 427 13 196617 SSE;#P comment 429 427 13 196617 ESE;#P user meter~ 529 368 542 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 501 368 514 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 473 368 486 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 445 368 458 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 417 368 430 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 389 368 402 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 361 368 374 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 333 368 346 464 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P comment 512 427 13 196617 WSW;#P comment 402 427 13 196617 ENE;#P comment 374 427 13 196617 NNE;#P window linecount 1;#P newex 333 337 209 196617 ambi.decode~ 2d 3rd default 8;#P newex 458 142 44 196617 *~ 360;#P window linecount 3;#P comment 346 427 13 196617 NNW;#P user number~ 458 165 507 180 9 3 3 2 0. 0. 0 0. 250 0. 0 0 0 221 221 221 222 222 222 0 0 0;#P user panel 332 219 347 80;#X brgb 208 228 254;#X frgb 84 172 230;#X border 2;#X rounded 0;#X shadow 0;#X done;#P window linecount 1;#P comment 457 103 75 196617 auto-rotation:;#P hidden connect 68 0 62 0;#P hidden connect 64 0 62 0;#P hidden connect 65 0 62 0;#P hidden connect 69 0 62 0;#P hidden connect 70 0 62 0;#P hidden connect 66 0 62 0;#P hidden connect 62 0 63 0;#P connect 59 0 37 0;#P fasten 46 0 5 0 794 331 338 331;#P fasten 44 0 5 0 758 331 338 331;#P fasten 47 0 5 0 701 327 338 327;#P connect 37 0 5 0;#P connect 5 0 9 0;#P connect 5 1 10 0;#P connect 37 1 5 1;#P connect 5 2 11 0;#P connect 37 2 5 2;#P connect 5 3 12 0;#P connect 37 3 5 3;#P fasten 4 0 37 1 463 161 438 161;#P connect 5 4 13 0;#P connect 36 0 4 0;#P connect 4 0 2 0;#P connect 37 4 5 4;#P connect 5 5 14 0;#P connect 37 5 5 5;#P connect 5 6 15 0;#P connect 5 7 16 0;#P connect 37 6 5 6;#P connect 25 0 23 0;#P fasten 5 0 21 0 338 363 580 363;#P fasten 50 0 21 0 766 412 580 412;#P fasten 49 0 21 0 696 412 580 412;#P fasten 5 1 21 1 366 363 593 363;#P fasten 5 2 21 2 394 363 606 363;#P fasten 5 3 21 3 422 363 619 363;#P hidden connect 27 0 26 0;#P connect 26 0 24 0;#P fasten 5 4 21 4 450 363 632 363;#P fasten 5 5 21 5 478 363 645 363;#P fasten 5 6 21 6 506 363 658 363;#P fasten 5 7 21 7 534 363 671 363;#P fasten 38 1 54 0 915 277 701 277;#P fasten 43 0 54 0 767 272 701 272;#P fasten 23 0 54 0 570 191 701 191;#P fasten 24 0 54 0 631 180 701 180;#P hidden connect 45 0 42 0;#P connect 42 0 43 0;#P pop;