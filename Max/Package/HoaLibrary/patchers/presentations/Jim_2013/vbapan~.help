max v2;#N vpatcher 157 186 739 743;#P origin 9 -50;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P message 353 429 65 196617 set_disc 0.1;#N vpatcher 416 336 981 669;#P origin 0 -6;#P window setfont "Sans Serif" 9.;#P comment 423 173 127 196617 <- coordonnŽes en signal;#P user ezdac~ 469 268 513 301 0;#P hidden button 333 93 15 0;#P flonum 374 117 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 333 117 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P user number~ 275 74 314 89 9 3 3 1 0. 0. 0 1. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P message 168 271 45 196617 get_info;#P toggle 129 107 15 0;#P message 130 125 64 196617 mute_sig \$1;#P message 132 178 72 196617 change_type p;#P message 132 196 72 196617 change_type c;#P user number~ 378 172 417 187 9 3 3 1 0. 0. 0 0. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P user number~ 336 172 375 187 9 3 3 1 0. 0. 0 1. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P user number~ 276 282 315 297 9 3 3 2 0. 0. 0 0. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P user number~ 333 282 372 297 9 3 3 2 0. 0. 0 0. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P user number~ 333 248 372 263 9 3 3 2 0. 0. 0 0. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P user number~ 275 248 314 263 9 3 3 2 0. 0. 0 0. 250 0. 0 0 0 222 222 222 222 222 222 0 0 0;#P newex 275 210 113 196617 vbapan~ 4 c s;#P newex 333 135 51 196617 pack f f;#P comment 416 118 127 196617 <- coordonnŽes en contr™le;#P comment 322 75 100 196617 <- signal d'entrŽe;#P comment 16 55 227 196617 Pour dŽsactiver ou activer les entrŽes de signal \, quand elles sont dŽsactivŽes les coordonnŽes sont rŽcupŽrŽes sur la premire entrŽe en contr™le sous forme d'une liste.;#P comment 18 194 155 196617 Pour changer le type de coordonnŽes reues. 'c'->cartŽsiennes \, 'p'->polaires.;#P comment 16 21 484 196617 Il est possible de changer le type de coordonnŽe sans avoir besoin de rŽinstancier le vbapan~ et en cas d'entrŽes de signal \, de dŽsactiver les entrŽes signal pour utiliser des listes en contr™le.;#P connect 16 0 15 0;#P fasten 5 0 6 0 338 164 280 164;#P connect 18 0 6 0;#P hidden connect 17 0 6 0;#P hidden connect 15 0 6 0;#P hidden connect 13 0 6 0;#P hidden connect 14 0 6 0;#P connect 6 0 7 0;#P fasten 6 3 10 0 382 233 319 233 319 273 281 273;#P fasten 11 0 6 1 341 198 331 198;#P hidden connect 20 0 21 0;#P hidden connect 21 0 5 0;#P connect 19 0 5 0;#P fasten 6 1 8 0 314 238 338 238;#P fasten 6 2 9 0 348 230 324 230 324 273 338 273;#P connect 20 0 5 1;#P connect 12 0 6 2;#P pop;#P newobj 150 513 169 196617 p diffŽrentes_fonctionnalites_utiles;#P message 353 454 64 196617 get_info;#P newex 353 486 105 196617 vbapan~ 8;#P user gain~ 348 254 58 38 158 0 1.071519 7.94321 10.;#P user gain~ 343 67 58 38 158 0 1.071519 7.94321 10.;#N vpatcher 414 233 817 676;#P origin -3 -14;#P window setfont "Sans Serif" 9.;#P message 67 308 65 196617 set_nb_hp 4;#P message 1 282 45 196617 get_info;#P newex 45 336 79 196617 vbapan~ 6;#P message 67 146 189 196617 ra_setpos 1 135 1 45 0.7 -45 0.7 -135;#P message 68 241 118 196617 a_setpos 90 0 -90 -180;#P message 64 53 95 196617 xy_setpos -1 1 1 1;#P comment 64 36 138 196617 En coordonnŽes cartŽsiennes.;#P comment 87 72 285 196617 Le mot "xy_setpos" permet de modifier la disposition des haut-parleurs ˆ l'aide de leurs coordonnŽes cartŽsiennes. "Abcisse ordonnŽe" du premier au dernier haut-parleur.;#P comment 69 224 168 196617 Sur le cercle unitŽ avec les angles;#P comment 85 260 284 196617 Avec le mot "a_setpos" on envoie les angles respectifs de chaque haut-parleur qui se retrouvent donc sur le cercle unitŽ;#P comment 67 129 117 196617 En coordonnŽes polaires.;#P comment 90 163 278 196617 PrŽcŽdŽs du mot "ra_setpos" \, on envoie les coordonnŽes polaires des haut-parleurs par rapport ˆ l'auditeur. "rayon angle" du premier haut-parleur au dernier.;#P comment 22 14 230 196617 Pour changer la disposition des haut-parleurs.;#P comment 112 366 270 196617 Remarque: il est prŽfŽrable de changer la position des haut-parleurs aprs en avoir changŽ le nombre \, car la modification du nombre de haut-parleurs les repositionne automatiquement en cercle.;#P comment 136 310 194 196617 Pour changer le nombre de haut-parleurs.;#P fasten 14 0 12 0 72 330 50 330;#P fasten 9 0 12 0 69 75 50 75;#P fasten 10 0 12 0 73 262 50 262;#P fasten 11 0 12 0 72 166 50 166;#P fasten 13 0 12 0 6 330 50 330;#P pop;#P newobj 149 465 167 196617 p changer_position_haut-parleurs;#P user ezdac~ 257 23 301 56 0;#P newex 347 237 59 196617 cycle~ 441;#P comment 473 242 29 196617 angle;#P comment 433 241 31 196617 rayon;#P hidden button 433 234 15 0;#P number 471 255 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 432 255 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 432 276 49 196617 pack f f;#P number 526 299 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 479 300 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 432 371 105 196617 dac~ 1 2 3 4 5 6 7 8;#P newex 432 338 105 196617 vbapan~ 8 p;#P comment 448 141 14 196617 x;#P newex 422 179 42 196617 dac~;#P newex 486 110 29 196617 cos~;#P newex 485 91 43 196617 -~ 0.25;#P newex 454 67 62 196617 phasor~ 0.5;#P newex 454 111 29 196617 cos~;#P newex 422 152 74 196617 vbapan~ 3 c s;#P window setfont "Sans Serif" 14.;#P comment 3 21 76 196622 vbapan~;#P window setfont "Sans Serif" 9.;#P comment 2 48 190 196617 Spatialisateur 2D par le systme VBAP.;#P window linecount 2;#P comment 2 71 298 196617 Auteurs: R.MIGNOT \, CICM UniversitŽ Paris8 \, MSH Paris Nord \, ACI Jeunes Chercheurs "Espaces Sonores.";#P window linecount 4;#P comment 2 104 298 196617 Cet objet permet de spatialiser un son monaural dans un plan gr‰ce au VBAP (Vector Base Amplitude Panning). Le gain de chaque haut-parleur permet de crŽer un emplacement virtuel de la source par rapport ˆ l'auditeur situŽ au centre.;#P window linecount 1;#P comment 481 140 13 196617 y;#P window linecount 3;#P comment 25 160 287 196617 -1re entrŽe: Son monaural en signal ou coordonnŽes de la source sous forme d'un liste de deux flottants ou listes divers (voir plus loin).;#P window linecount 2;#P comment 25 199 288 196617 -2me entrŽe: Abcisse ou rayon de la source selon le type des cordonnŽes.;#P window linecount 1;#P comment 25 226 317 196617 -3me entrŽe: OrdonnŽe ou angle au centre de la source en degrŽs.;#P window linecount 2;#P comment 25 256 280 196617 -1er paramtre: Nombre de sorties \, et donc nombre de haut-parleurs par dŽfaut. Sans paramtre il y a 4 sorties.;#P comment 25 283 297 196617 -2me paramtre: Type des coordonnŽes: 'c' -> cartŽsiennes \, 'p' -> polaires \, sans paramtre elles sont cartŽsiennes.;#P comment 25 321 284 196617 -3 me paramtre: SpŽcifie le type des entrŽes: 'c' -> en contr™le \, 's' -> en signal. Par dŽfaut elles sont en contr™le.;#P window linecount 1;#P comment 25 349 284 196617 -4me paramtre: Rayon du disque central.;#P window linecount 2;#P comment 25 364 284 196617 -5me paramtre: Temps d'interpolation en ms. En contr™le uniquement \, il remplace le "line".;#P window linecount 4;#P comment 24 395 286 196617 -Sorties: Sorties audio pour les haut-parleurs. La disposition est la suivante: 1re sortie pour le haut-parleur ˆ gauche face ˆ l'auditeur \, puis on tourne vers la droite. Mais il est possible d'en changer la disposition .;#P window linecount 1;#P comment 532 321 29 196617 angle;#P comment 485 321 31 196617 rayon;#P window linecount 2;#P comment 18 457 139 196617 Pour changer la disposition des haut-parleurs. ==>>;#P window linecount 1;#P newex 342 50 59 196617 cycle~ 440;#P window linecount 2;#P comment 420 457 135 196617 <-Affiche des informations dans la fentre max.;#P comment 17 506 125 196617 Autres fonctionnalitŽs utiles. ==>>;#P comment 427 429 136 196617 <-Change la valeur du rayon du disque central.;#P connect 3 0 41 0;#P connect 38 0 42 0;#P connect 44 0 43 0;#P connect 46 0 43 0;#P fasten 41 0 21 0 348 139 427 139;#P connect 21 0 26 0;#P connect 33 0 32 0;#P hidden connect 35 0 32 0;#P connect 32 0 28 0;#P fasten 42 0 28 0 353 326 437 326;#P connect 28 0 29 0;#P hidden connect 34 0 35 0;#P connect 28 1 29 1;#P connect 23 0 22 0;#P connect 22 0 21 1;#P connect 21 1 26 1;#P connect 28 2 29 2;#P connect 34 0 32 1;#P connect 28 3 29 3;#P connect 30 0 28 1;#P connect 28 4 29 4;#P fasten 23 0 24 0 459 88 490 88;#P connect 24 0 25 0;#P connect 25 0 21 2;#P connect 28 5 29 5;#P connect 28 6 29 6;#P connect 28 7 29 7;#P connect 31 0 28 2;#P pop;