max v2;#N vpatcher 638 44 1407 783;#P origin 0 -8;#P window setfont "Sans Serif" 9.;#P flonum 393 427 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 2;#P comment 445 341 322 196617 Currently bounds checking is not comprehensive \; certain parameter combinations may result in undesirable effects...;#P window linecount 1;#P message 154 339 23 196617 1 0;#N vpreset 10;#X append 1 1 62 360 348 multiSlider list 95.111115 1. \; 47 191 343 multiSlider list 0. 0. \; 54 358 249 multiSlider list 0.234568 0. \; 45 192 247 multiSlider list 0. 6.28 \; 52 358 142 multiSlider list 1. 0. \;;#X append 1 1 43 192 142 multiSlider list 1. 0. \; 50 359 41 multiSlider list 0. 0. \; 41 193 41 multiSlider list 26.666666 19.333334 \; 15 123 10 umenu int 1 \;;#X append 2 1 62 360 348 multiSlider list 8.333333 26.666666 \; 47 191 343 multiSlider list 0. 0. \; 54 358 249 multiSlider list 0.074074 0. \; 45 192 247 multiSlider list 0. 6.28 \; 52 358 142 multiSlider list 1. 0. \;;#X append 2 1 43 192 142 multiSlider list 1. 0. \; 50 359 41 multiSlider list 0. 0. \; 41 193 41 multiSlider list 12. 35.222221 \; 15 123 10 umenu int 2 \;;#X append 3 1 62 360 348 multiSlider list 62.111111 1. \; 47 191 343 multiSlider list 0. 0.581667 \; 54 358 249 multiSlider list 0.469136 0. \; 45 192 247 multiSlider list 0. 1.628148 \; 52 358 142 multiSlider list 1.82716 0.493827 \;;#X append 3 1 43 192 142 multiSlider list 1. 0.185185 \; 50 359 41 multiSlider list 0.469136 0.197531 \; 41 193 41 multiSlider list 24.222221 18.111111 \; 15 123 10 umenu int 1 \;;#X append 4 1 62 360 348 multiSlider list 62.111111 25.444445 \; 47 191 343 multiSlider list 0. 0.581667 \; 54 358 249 multiSlider list 0.37037 0. \; 45 192 247 multiSlider list 0. 3.488889 \; 52 358 142 multiSlider list 1.82716 0.098765 \;;#X append 4 1 43 192 142 multiSlider list 1. 0.185185 \; 50 359 41 multiSlider list 0.17284 0.209877 \; 41 193 41 multiSlider list 56. 18.111111 \; 15 123 10 umenu int 1 \;;#X append 5 1 62 360 348 multiSlider list 89. 10.777778 \; 47 191 343 multiSlider list 0. 0.581667 \; 54 358 249 multiSlider list 0.37037 0. \; 45 192 247 multiSlider list 0. 0.387654 \; 52 358 142 multiSlider list 1.82716 1.654321 \;;#X append 5 1 43 192 142 multiSlider list 1. 0. \; 50 359 41 multiSlider list 0.506173 0.91358 \; 41 193 41 multiSlider list 97.555557 18.111111 \; 15 123 10 umenu int 4 \;;#X append 6 1 62 360 348 multiSlider list 3.444444 1. \; 47 191 343 multiSlider list 0. 0.581667 \; 54 358 249 multiSlider list 0.283951 0. \; 45 192 247 multiSlider list 0. 1.628148 \; 52 358 142 multiSlider list 1. 0.17284 \;;#X append 6 1 43 192 142 multiSlider list 1. 0.185185 \; 50 359 41 multiSlider list 0.469136 0.197531 \; 41 193 41 multiSlider list 95.111115 89. \; 15 123 10 umenu int 4 \;;#X append 7 1 62 360 348 multiSlider list 13.222222 1. \; 47 191 343 multiSlider list 0. 0. \; 54 358 249 multiSlider list 0.925926 0. \; 45 192 247 multiSlider list 0. 0. \; 52 358 142 multiSlider list 2. 0. \;;#X append 7 1 43 192 142 multiSlider list 1. 0. \; 50 359 41 multiSlider list 0. 0. \; 41 193 41 multiSlider list 84.111115 1. \; 15 123 10 umenu int 4 \;;#X append 8 1 62 360 348 multiSlider list 54.777779 1. \; 47 191 343 multiSlider list 0. 0.310222 \; 54 358 249 multiSlider list 0.222222 0. \; 45 192 247 multiSlider list 0. 0.697778 \; 52 358 142 multiSlider list 2. 0. \;;#X append 8 1 43 192 142 multiSlider list 1. 0. \; 50 359 41 multiSlider list 0.135802 0.962963 \; 41 193 41 multiSlider list 97.555557 1. \; 15 123 10 umenu int 4 \;;#X append 9 1 62 360 348 multiSlider list 100. 1. \; 47 191 343 multiSlider list 0. 3.141 \; 54 358 249 multiSlider list 0.08642 0. \; 45 192 247 multiSlider list 0. 6.28 \; 52 358 142 multiSlider list 0.098765 0. \;;#X append 9 1 43 192 142 multiSlider list 1. 1. \; 50 359 41 multiSlider list 0. 0. \; 41 193 41 multiSlider list 100. 56. \; 15 123 10 umenu int 1 \;;#X append 10 1 62 360 348 multiSlider list 1. 7.111111 \; 47 191 343 multiSlider list 0. 0.581667 \; 54 358 249 multiSlider list 0.567901 0. \; 45 192 247 multiSlider list 0. 1.395556 \; 52 358 142 multiSlider list 1.950617 0.148148 \;;#X append 10 1 43 192 142 multiSlider list 1. 0.074074 \; 50 359 41 multiSlider list 0.407407 0.098765 \; 41 193 41 multiSlider list 96.333336 1. \; 15 123 10 umenu int 4 \;;#P preset 81 151 56 27;#P user multiSlider 348 360 35 83 0.1 100. 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P window linecount 2;#P comment 350 480 80 196617 inter-onset time (ms);#P comment 249 480 80 196617 0-1 (triangle phase);#P window linecount 1;#P comment 142 481 80 196617 1 = normal;#P comment 49 480 80 196617 % of buffer size;#P comment 247 313 189 196617 in degrees or radians \, as specified;#P comment 142 314 80 196617 0-1;#P newex 350 449 60 196617 prepend iot;#P user multiSlider 249 358 35 83 0. 1. 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 249 450 87 196617 prepend envelope;#P user multiSlider 142 358 35 83 0. 2. 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 142 450 67 196617 prepend rate;#P user multiSlider 41 359 35 83 0. 1. 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 41 499 65 196617 s granulator;#P newex 41 451 72 196617 prepend delay;#P user multiSlider 343 191 35 83 0. 3.141 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 343 283 89 196617 prepend elevation;#P user multiSlider 247 192 35 83 0. 6.28 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 247 284 83 196617 prepend azimuth;#P user multiSlider 142 192 35 83 0. 1. 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 142 284 91 196617 prepend amplitude;#P user multiSlider 41 193 35 83 1. 100. 2 2937 47 0 0 2 0 0 0;#M frgb 0 0 0;#M brgb 255 255 255;#M rgb2 127 127 127;#M rgb3 0 0 0;#M rgb4 37 52 91;#M rgb5 74 105 182;#M rgb6 112 158 18;#M rgb7 149 211 110;#M rgb8 187 9 201;#M rgb9 224 62 37;#M rgb10 7 114 128;#P newex 41 333 65 196617 s granulator;#P newex 41 285 85 196617 prepend duration;#P newex 23 528 65 196617 r granulator;#P newex 329 568 65 196617 s granulator;#P user meter~ 90 575 103 640 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 151 575 164 640 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 121 575 134 640 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 57 574 70 639 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P user meter~ 25 574 38 639 50 0 168 0 103 103 103 255 153 0 255 0 0 217 217 0 153 186 0 12 3 3 3 3;#P message 270 664 27 196617 stop;#P message 200 664 65 196617 startwindow;#P user panel 192 657 113 30;#X brgb 255 255 255;#X frgb 100 202 30;#X border 2;#X rounded 0;#X shadow 0;#X done;#P flonum 247 603 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 200 602 35 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 247 625 50 196617 width \$1;#P message 200 625 43 196617 gain \$1;#P newex 10 693 140 196617 dac~ 1 2 3 4 5 6 7 8;#P newex 10 650 141 196617 ambi.decode~ 2d 2nd 8;#P newex 10 551 139 196617 ambi.granulate~ 2d 2nd;#P comment 463 236 225 196617 Angle format: "radians" (default) or "degrees";#P window linecount 2;#P comment 463 208 270 196617 Order: "1st" (default) \, "2nd" or "3rd" (or optionally "1st-order" etc.);#P window linecount 1;#P comment 463 194 270 196617 Dimensions: "2D" (default) or "3D";#P comment 463 266 274 196617 maximum number of grains per vector (default = 64);#P message 380 540 59 196617 dump more;#P comment 463 252 274 196617 internal delay size (samples) \, default = 65536;#P user umenu 10 123 122 196647 1 64 139 1;#X add -select source-;#X add sinewave;#X add pink noise;#X add sound-card input;#X add soundfile (drumkit);#N vpatcher 33 339 631 696;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 224 128 48 196617 loadbang;#P newex 197 118 20 196617 t b;#P newex 383 125 144 196617 info~ drumLoop.aif;#P message 306 194 27 196617 stop;#P message 175 159 83 196617 loop 1 \, startloop;#P newex 248 193 35 196617 sig~ 1;#P newex 248 219 139 196617 groove~ sound 2;#P newex 242 101 151 196617 buffer~ sound drumLoop.aif -1 2;#P outlet 55 241 15 0;#P inlet 55 50 15 0;#P window linecount 0;#P newex 175 94 32 196617 sel 4;#P window linecount 1;#P newex 100 155 31 196617 adc~;#P window linecount 0;#P newex 85 134 34 196617 pink~;#P newex 70 112 61 196617 cycle~ 600;#P newex 55 214 71 196617 selector~ 4 1;#P connect 5 0 0 0;#P connect 0 0 6 0;#P connect 1 0 0 1;#P connect 2 0 0 2;#P connect 3 0 0 3;#P connect 8 0 0 4;#P connect 8 1 0 4;#P fasten 5 0 4 0 60 79 180 79;#P connect 14 0 10 0;#P connect 4 0 10 0;#P connect 4 1 13 0;#P fasten 10 0 8 0 180 214 253 214;#P fasten 11 0 8 0 311 214 253 214;#P connect 9 0 8 0;#P fasten 13 0 11 0 202 149 311 149;#P fasten 12 6 8 2 502 211 381 211;#P connect 7 1 12 0;#P pop;#P newobj 10 144 53 196617 p sources;#P comment 9 62 300 196617 www.grahamwakefield.net;#P comment 9 50 300 196617 Graham Wakefield \, 2006;#P newex 630 68 108 196617 ambi.conventions.help;#P comment 463 299 205 196617 monophonic source to be granulated;#P comment 446 282 205 196617 ambi.encode~ inlets:;#P comment 451 177 205 196617 ambi.granular~ arguments:;#P window linecount 6;#P comment 450 95 248 196617 ambi.granular~ granulates a monophonic input signal spatially. Each grain has an azimuth and elevation within the ambisonic encoded sound field \, an amplitude \, a duration (in samples) \, and a delay (in samples) up to the internal delay buffer size minus the grain duration.;#P user umenu 274 538 65 196647 1 64 554 1;#X add radians;#X add degrees;#P window linecount 1;#P message 343 540 33 196617 dump;#P window setfont "Sans Serif" 20.;#P comment 9 21 301 196628 Ambisonic Granulation;#P window setfont "Sans Serif" 9.;#P window linecount 4;#P comment 450 26 300 196617 Inspired by work on a C++ implementation by Jorge Castellanos \, Florian Hollerweger and Graham Wakefield \, using the CSL framework developed at MAT/CREATE \, UCSB (www.create.ucsb.edu/CSL);#P window linecount 2;#P comment 10 88 100 196617 Select source signal to granulate:;#P window linecount 4;#P comment 220 119 193 196617 Note that most parameter messages can take singlular or pairs of arguments. Pairs are interpreted as central value & range (radius) for a random distribution.;#P window linecount 1;#P comment 50 314 80 196617 ms;#P hidden connect 63 0 15 0;#P connect 15 0 14 0;#P connect 14 0 22 0;#P connect 38 0 22 0;#P connect 22 0 23 0;#P fasten 26 0 23 0 252 645 15 645;#P fasten 25 0 23 0 205 645 15 645;#P connect 23 0 24 0;#P fasten 30 0 24 0 205 688 15 688;#P fasten 31 0 24 0 275 688 15 688;#P connect 22 0 32 0;#P connect 23 1 24 1;#P hidden connect 63 0 41 0;#P fasten 41 0 39 0 46 280 46 280;#P connect 39 0 40 0;#P fasten 42 0 40 0 147 305 46 305;#P fasten 44 0 40 0 252 305 46 305;#P fasten 46 0 40 0 348 305 46 305;#P hidden fasten 63 0 50 0 86 358 46 358;#P fasten 50 0 48 0 46 446 46 446;#P connect 48 0 49 0;#P fasten 51 0 49 0 147 471 46 471;#P fasten 53 0 49 0 254 471 46 471;#P fasten 55 0 49 0 355 471 46 471;#P connect 22 1 23 1;#P connect 23 2 24 2;#P connect 22 1 33 0;#P connect 23 3 24 3;#P connect 22 2 23 2;#P connect 23 4 24 4;#P connect 22 2 36 0;#P connect 23 5 24 5;#P connect 22 3 23 3;#P connect 23 6 24 6;#P connect 22 3 34 0;#P connect 23 7 24 7;#P connect 22 4 23 4;#P hidden connect 63 0 43 0;#P fasten 43 0 42 0 147 279 147 279;#P hidden fasten 63 0 52 0 86 313 147 313;#P connect 64 0 52 0;#P fasten 52 0 51 0 147 445 147 445;#P connect 22 4 35 0;#P connect 27 0 25 0;#P hidden connect 63 0 45 0;#P fasten 45 0 44 0 252 279 252 279;#P connect 28 0 26 0;#P hidden fasten 63 0 54 0 86 310 254 310;#P fasten 54 0 53 0 254 445 254 445;#P connect 6 1 37 0;#P connect 5 0 37 0;#P connect 17 0 37 0;#P hidden connect 63 0 47 0;#P fasten 47 0 46 0 348 278 348 278;#P hidden fasten 63 0 62 0 86 310 353 310;#P fasten 66 0 55 0 398 445 355 445;#P fasten 62 0 55 0 353 446 355 446;#P pop;