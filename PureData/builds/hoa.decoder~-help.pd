#N canvas 259 41 1057 632 10;
#X obj -325 -300 cnv 15 552 40 empty \$0-pddp.cnv.header hoa.decoder~
3 12 0 18 -204280 -1 0;
#X text 243 -292 hoalibrary | Julien Colafrancesco \, Pierre Guillot
& Eliott Paris Â© 2012-2013 CICM / Universite Paris 8;
#X obj 268 -150 hoa.pi 2;
#X obj 268 -179 loadbang;
#X obj 217 -121 *~;
#X obj 217 -208 phasor~ -0.3;
#X obj 65 -66 hoa.encoder~ 7 ----------------------------;
#X obj 321 91 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 320 62 atodb~;
#X obj 66 92 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 65 64 atodb~;
#X obj 448 92 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 447 64 atodb~;
#X obj 501 92 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 500 64 atodb~;
#X obj 395 92 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 394 64 atodb~;
#X obj 554 92 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 553 64 atodb~;
#X obj 608 92 vu 10 80 empty empty -1 -8 0 4 -66577 -1 1 0;
#X obj 607 64 atodb~;
#X text -320 -190 Third argument set the decoding mode : ambisonics
(default) \, binaural (for headphones) or irregular (for an irregular
loudpspeakers array).;
#X text -313 -110 Ambisonics mode is used for a perfect circle of loudspeakers
where all of them are to equal distance. The minimum number of loudspeakers
is 2 * order + 1 (default : 2 * order + 2). The fourth argument is
the offset of loudpeakers in degrees.;
#X obj -305 32 hoa.decoder~ 7 16 ambisonics 0 ------------;
#X obj 167 52 dac~ 1 2;
#X obj 65 -113 noise~;
#X obj 65 6 hoa.binaural_sp ---------------------------;
#X text -15 4 Click me ->;
#X text -322 -278 An ambisonic decoder;
#X text -320 -250 hoa.decoder~ decodes an ambisonic sound field for
several loudspeakers configurations or for headphones.;
#X text -320 -220 First argument is the order and second argument is
the number of loudspeakers or loudspeakers configuration.;
#X obj 394 30 hoa.decoder~ 7 5 irregular panning -;
#X msg 374 -234 \; pd dsp 1;
#X msg 374 -196 \; pd dsp 0;
#X text 352 -143 Irregular mode is used for standart configurations
: mono (1) \, stereo (2) \, 3.1 (3) \, quadriphonie (4) \, 5.1 (5)
\, 6.1 \, 7.1. The fourth argument is the irregular decoding mode :
panning (default) or projection. You should use "inPhase" optimization
to avoid artefact.;
#X text 24 186 Binaural mode is used for headphones. It uses the CIPIC
Hrtfs \, then the maximum order is 35 The fourth argument is the pinnae
size : small (default) or large. You shouldn't use optimization to
avoid artefact. The hoa.decoder~ is packed in a subpatcher because
the binaural decoding needs a bigger vector size than 64 due to matrix
optimization (it depends on computer but 512 seems to be suffisant
for all configuration).;
#X obj -305 6 hoa.optim~ 7 @mode [ maxRe ] --------------;
#X obj 394 6 hoa.optim~ 7 @mode [ inPhase ] -----;
#X connect 2 0 4 1;
#X connect 3 0 2 0;
#X connect 4 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 26 0;
#X connect 6 0 36 0;
#X connect 6 0 37 0;
#X connect 6 1 26 1;
#X connect 6 1 36 1;
#X connect 6 1 37 1;
#X connect 6 2 26 2;
#X connect 6 2 36 2;
#X connect 6 2 37 2;
#X connect 6 3 26 3;
#X connect 6 3 36 3;
#X connect 6 3 37 3;
#X connect 6 4 26 4;
#X connect 6 4 36 4;
#X connect 6 4 37 4;
#X connect 6 5 26 5;
#X connect 6 5 36 5;
#X connect 6 5 37 5;
#X connect 6 6 26 6;
#X connect 6 6 36 6;
#X connect 6 6 37 6;
#X connect 6 7 26 7;
#X connect 6 7 36 7;
#X connect 6 7 37 7;
#X connect 6 8 26 8;
#X connect 6 8 36 8;
#X connect 6 8 37 8;
#X connect 6 9 26 9;
#X connect 6 9 36 9;
#X connect 6 9 37 9;
#X connect 6 10 26 10;
#X connect 6 10 36 10;
#X connect 6 10 37 10;
#X connect 6 11 26 11;
#X connect 6 11 36 11;
#X connect 6 11 37 11;
#X connect 6 12 26 12;
#X connect 6 12 36 12;
#X connect 6 12 37 12;
#X connect 6 13 26 13;
#X connect 6 13 36 13;
#X connect 6 13 37 13;
#X connect 6 14 26 14;
#X connect 6 14 36 14;
#X connect 6 14 37 14;
#X connect 8 0 7 0;
#X connect 10 0 9 0;
#X connect 12 0 11 0;
#X connect 14 0 13 0;
#X connect 16 0 15 0;
#X connect 18 0 17 0;
#X connect 20 0 19 0;
#X connect 25 0 6 0;
#X connect 26 0 10 0;
#X connect 26 0 24 0;
#X connect 26 1 8 0;
#X connect 26 1 24 1;
#X connect 31 0 16 0;
#X connect 31 1 12 0;
#X connect 31 2 14 0;
#X connect 31 3 18 0;
#X connect 31 4 20 0;
#X connect 36 0 23 0;
#X connect 36 1 23 1;
#X connect 36 2 23 2;
#X connect 36 3 23 3;
#X connect 36 4 23 4;
#X connect 36 5 23 5;
#X connect 36 6 23 6;
#X connect 36 7 23 7;
#X connect 36 8 23 8;
#X connect 36 9 23 9;
#X connect 36 10 23 10;
#X connect 36 11 23 11;
#X connect 36 12 23 12;
#X connect 36 13 23 13;
#X connect 36 14 23 14;
#X connect 37 0 31 0;
#X connect 37 1 31 1;
#X connect 37 2 31 2;
#X connect 37 3 31 3;
#X connect 37 4 31 4;
#X connect 37 5 31 5;
#X connect 37 6 31 6;
#X connect 37 7 31 7;
#X connect 37 8 31 8;
#X connect 37 9 31 9;
#X connect 37 10 31 10;
#X connect 37 11 31 11;
#X connect 37 12 31 12;
#X connect 37 13 31 13;
#X connect 37 14 31 14;
#X coords 0 632 1 631 100 60 0;
