#N canvas 131 89 1067 544 10;
#X obj -12 -245 c.loadmess;
#N canvas 417 312 450 300 array_error 0;
#X obj 41 162 print hoa.gain~;
#X obj 41 112 sel unknown_array;
#X msg 41 137 : The buffer is not defined.;
#X obj 41 90 c.prepend symbol;
#X obj 41 48 inlet;
#X obj 169 184 outlet;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X restore 571 -80 pd array_error;
#X text 598 -111 Post an error if the;
#X text 598 -101 buffer is not defined;
#X text 556 -134 Array must be defined as an argument.;
#X obj -12 -218 hoa.thisprocess~ unknown_array @size 100 @delay 1000
@feedback 0.5 @rarefaction 0, f 82;
#X text 245 -184 Extra 1 Retreive the inlet messages.;
#X obj 297 -161 hoa.in extra 1;
#X text 324 -130 Input messages selector;
#X obj 297 -110 route size delay feedback rarefaction array;
#X obj 297 148 * 1, f 5;
#X obj 348 148 * 1, f 5;
#X obj 297 118 t b f;
#X obj 348 118 t b f;
#X obj 246 220 hoa.out~;
#N canvas 697 140 608 675 hoa_granular----------------------------
0;
#X obj 564 175 clip~ 0 1;
#X obj 564 138 line~;
#X obj 542 440 *~;
#X obj 263 362 *~;
#X obj 34 315 *~ 513;
#X obj 136 131 random;
#X obj 136 207 +;
#X obj 136 109 metro;
#X obj 136 180 t b f;
#X obj 136 75 c.loadmess 1;
#X obj -6 114 c.prepend set;
#X obj 136 154 * 0.1;
#X obj 34 281 phasor~ 1;
#X msg 564 114 \$1 20;
#X obj 34 344 tabread4~;
#X obj 393 272 samphold~;
#X obj 393 130 noise~;
#X obj 393 159 *~ 1;
#X obj 393 187 +~;
#X obj 393 244 +~ 1;
#X obj 393 213 abs~;
#X obj 439 130 * 0.1;
#X obj 263 316 samphold~;
#X obj 263 179 +~ 1;
#X obj 263 205 *~ 0.5;
#X obj 263 139 noise~;
#N canvas 65 381 450 300 delme 0;
#X obj 89 47 inlet~;
#X obj 88 264 outlet~;
#X obj 37 48 inlet~;
#X obj -17 50 inlet~;
#X obj 56 167 *~;
#X obj 88 201 vd~ \$0-hoa_grain;
#X obj 89 127 delwrite~ \$0-hoa_grain 5500;
#X obj 88 172 +~ 2;
#X connect 0 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 5 0 1 0;
#X connect 7 0 5 0;
#X restore 542 324 pd delme;
#X obj 135 230 t b f;
#X obj 34 260 /;
#X msg 53 223 1000;
#N canvas 0 22 450 300 >~ 0;
#X obj 67 114 max~ 0;
#X obj 67 175 -~ 0;
#X obj 130 188 /~;
#X obj 130 152 sig~ -1;
#X obj 145 114 -~;
#X obj 67 212 *~;
#X obj 67 17 inlet~;
#X obj 67 252 outlet~;
#X obj 132 15 inlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 6 0 4 1;
#X connect 8 0 4 0;
#X connect 8 0 1 1;
#X connect 8 0 0 1;
#X restore 263 234 pd >~ 1;
#X obj 53 61 inlet~;
#X obj 490 565 outlet~;
#X obj 495 4 inlet;
#X obj 362 17 inlet;
#X obj 313 19 inlet;
#X obj 161 43 inlet;
#X obj 218 23 inlet;
#X connect 0 0 26 1;
#X connect 1 0 0 0;
#X connect 2 0 32 0;
#X connect 3 0 2 1;
#X connect 4 0 14 0;
#X connect 5 0 11 0;
#X connect 6 0 27 0;
#X connect 6 0 28 1;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 7 0;
#X connect 10 0 14 0;
#X connect 11 0 8 0;
#X connect 12 0 4 0;
#X connect 12 0 15 1;
#X connect 12 0 22 1;
#X connect 13 0 1 0;
#X connect 14 0 3 1;
#X connect 15 0 26 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 15 0;
#X connect 20 0 19 0;
#X connect 21 0 17 1;
#X connect 22 0 3 0;
#X connect 23 0 24 0;
#X connect 24 0 30 0;
#X connect 25 0 23 0;
#X connect 26 0 2 0;
#X connect 27 0 29 0;
#X connect 27 1 28 1;
#X connect 28 0 12 0;
#X connect 29 0 28 0;
#X connect 30 0 22 0;
#X connect 31 0 26 2;
#X connect 33 0 10 0;
#X connect 34 0 30 1;
#X connect 35 0 13 0;
#X connect 36 0 6 0;
#X connect 36 0 7 1;
#X connect 36 0 5 1;
#X connect 37 0 21 0;
#X connect 37 0 18 1;
#X restore 246 186 pd hoa_granular----------------------------;
#X obj 151 -189 hoa.mode.sel;
#X obj -12 -149 hoa.args.map;
#X text 121 83 Receive the signal;
#X text 128 220 Output the signal;
#X obj 343 -49 list split;
#X obj 371 -25 unpack;
#X obj 297 -77 route float list;
#X obj 394 88 list split;
#X obj 422 112 unpack;
#X obj 348 60 route float list;
#X obj 445 31 list split;
#X obj 473 55 unpack;
#X obj 399 3 route float list;
#X obj 496 -52 list split;
#X obj 524 -28 unpack;
#X obj 450 -80 route float list;
#X text 603 -53 list : The item is selected depending on the instance
and directly set the grain size \, the delay \, the feedback or the
rarefaction of the instance (mostly used in the plane waves domain).
;
#X text 603 117 array : The array defines the envelope of the granulation
and is shared by all the instances (exept if you use the target message
to it).;
#X text 603 7 float : The grain size values are mapped depending on
the intance and increase while the index and the band of the harmonics
increase. The delay time values are mapped depending on the intance
and decrease while the index and the band of the harmonics increase.
The feedback and rarefaction values are not mapped thus all the instances
have the same values (exept if you use the target message to it).;
#X obj -5 -47 + 1;
#X obj -4 -23 / 1;
#X obj -4 21 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 57 -82 / 1;
#X obj 57 -59 t b f;
#X obj 57 -18 -;
#X msg 57 -40 1;
#X obj 57 21 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 58 63 factor;
#X text 54 43 instance;
#X text 60 53 delay;
#X text -2 63 factor;
#X text -6 43 instance;
#X text 0 53 size;
#X obj 246 82 hoa.in~;
#X text 267 -269 This hoa.processing diffuses a sound field with quasi-synchronous
granular synthesis.;
#X connect 0 0 5 0;
#X connect 1 0 15 5;
#X connect 5 0 17 0;
#X connect 5 1 16 0;
#X connect 5 2 1 0;
#X connect 5 3 9 0;
#X connect 7 0 9 0;
#X connect 9 0 22 0;
#X connect 9 1 25 0;
#X connect 9 2 28 0;
#X connect 9 3 31 0;
#X connect 9 4 15 5;
#X connect 10 0 15 1;
#X connect 11 0 15 2;
#X connect 12 0 10 0;
#X connect 12 1 10 1;
#X connect 13 0 11 0;
#X connect 13 1 11 1;
#X connect 15 0 14 0;
#X connect 16 0 17 1;
#X connect 17 0 20 1;
#X connect 17 0 23 1;
#X connect 17 0 26 1;
#X connect 17 0 29 1;
#X connect 17 0 36 1;
#X connect 17 0 38 1;
#X connect 17 1 35 0;
#X connect 17 1 38 0;
#X connect 20 1 21 0;
#X connect 21 0 15 1;
#X connect 22 0 10 0;
#X connect 22 1 20 0;
#X connect 23 1 24 0;
#X connect 24 0 15 2;
#X connect 25 0 11 0;
#X connect 25 1 23 0;
#X connect 26 1 27 0;
#X connect 27 0 15 3;
#X connect 28 0 15 3;
#X connect 28 1 26 0;
#X connect 29 1 30 0;
#X connect 30 0 15 4;
#X connect 31 0 15 4;
#X connect 31 1 29 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 36 0 12 0;
#X connect 38 0 39 0;
#X connect 39 0 41 0;
#X connect 39 1 40 1;
#X connect 40 0 42 0;
#X connect 41 0 40 0;
#X connect 49 0 15 0;
