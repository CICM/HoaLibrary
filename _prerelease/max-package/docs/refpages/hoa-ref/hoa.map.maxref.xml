<?xml version="1.0" encoding="utf-8" standalone="yes"?>

<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This is an automatically generated file. DO NOT EDIT THIS FILE DIRECTLY. Rather, use the _ref.xml files found in the 'edits' folder.-->
<c74object name="hoa.map"  module="hoa" category="ambisonics">
	<digest>
		An ambisonic multisource spatializer.
	</digest>
	<description>
		<o>
			hoa.map
		</o>
        allows you to spatialize several sources on a plane. You can add and remove sources, change coordinates, add description and create groups. Used with <o>hoa.map~</o>, the source spatialization has never been so easy.
	</description>
	<!--METADATA-->
	<metadatalist>
		<metadata name="author">
			HoaLibrary by Julien Colafrancesco, Pierre Guillot, Eliott Paris.
		</metadata>
		<metadata name="tag">
			Ambisonics spatialization.
		</metadata>
	</metadatalist>
    
	<!--INLETS-->
	<inletlist>
		<inlet id="0" name="anything">
			<digest>
				Behavior and appearence.
			</digest>
			<description>
				Behavior and appearence.
			</description>
		</inlet>
	</inletlist>
    
	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" name="sources-coordinates">
			<digest>
				Sources coordinates.
			</digest>
			<description>
				Output sources coordinates (depending on your <m>outputmode</m> attribute : polar or cartesian, default is Polar).
			</description>
		</outlet>
		<outlet id="1" name="groups-coordinates">
			<digest>
				Groups coordinates.
			</digest>
			<description>
				Output Groups coordinates (depending on your <m>outputmode</m> attribute : polar or cartesian, default is Polar).
			</description>
		</outlet>
		<outlet id="2" name="infos">
			<digest>
				Various informations.
			</digest>
			<description>
				Outputs Various informations about sources, groups, slots..
			</description>
		</outlet>
	</outletlist>
    
	<!--ARGUMENTS-->
	<objarglist />
    
	<!--MESSAGES-->
	<methodlist>
		<method name="source">
			<arglist>
				<arg name="source-index" optional="0" type="list" />
			</arglist>
			<digest>
				Modify some sources values.
			</digest>
			<description>
				All messages prepended by "source" symbol and an int corresponding to a source-index will modify this source. <br />
				<br />
				 - Display source and set source coordinates with "source" message followed by an integer for the source index, the type of coordinates and one or two floating values for coordinates. The coordinates types accepted are "polar" (or  "pol"), "cartesian" (or "car"), "radius", "angle", "abscissa", "ordinate". The polar type is followed by the radius then the angle and the cartesian type is followed by the abscissa then the ordinate. 
				 <br /> Exemple : "source 0 polar 1. 0.". <br />
				  <br />
				 - Set source description with "source" message followed by an integer for the source index, the "description" message and everything you want for the description. Set "remove" instead of the description to remove the description. 
				 <br /> Exemple : "source 0 description Jimi Hendrix". <br />
				 <br />
				 - Set source color with "source" "message followed by an integer for the source index, the "color" message and four floating values for red, green, blue and alpha.. 
				 <br /> Exemple : "source 0 color 1. 0.2 0.6 1. <br />
				 <br />
				 - Mute/unmute a source with the "mute" message" followed by 1 or 0. <br />
				 <br />
				 - Remove a source with the "remove" message". Note that "remove" will also remove coordinates, descriptions, color of the source and send a message to hoa.map~ to mute this source.
			</description>
		</method>
		<method name="group">
			<arglist>
				<arg name="group-index" optional="0" type="list" />
			</arglist>
			<digest>
				Modify some groups values.
			</digest>
			<description>
				All messages prepended by "group" symbol and an int corresponding to a group-index will modify this group. <br />
				<br />
				 - Create a group with the "group" message followed by an integer for the group index, "set" message and a list of intergers, the indexs of source to put in the group. Exemple : "group 0 set 1 2 3 4". <br />
				 <br />
				 - Set group coordinates with the same syntax used to set sources coordiantes. The group coordinates move the group centroid and the sources depending to the centroid.<br />
				 <br />
				 - Set group description with the same syntax used to set sources colors and set group color with the same syntax used to set sources colors.<br />
				 <br />
				 - Remove a group with the same syntax used to remove source. Note that remove will also remove coordinates, descriptions, color of the group.<br />
				 <br />
				 - Set group color with "group" "message followed by an integer for the source index, the "color" message and four floating values for red, green, blue and alpha.. Exemple : "source 0 color 1. 0.2 0.6 1".<br />
				 <br />
				 - Mute all sources contained by the group with the "mute" message".
			</description>
		</method>
		<method name="slot">
			<digest>
				Modify some groups values.
			</digest>
			<description>
				<o>hoa.map</o> works like the pattrstorage and preset objects. It allows you to create, recall, make interpolation between different presets. It uses the pattrstorage syntax with a prepend message "slot". The presets are saved within the patcher when you save it and can be saved in JSON file format to recall them later.<br />
				<br />
				 - "store" : Store a preset at a defined slot.<br />
				 - "storeagain" : Store again the last slot stored (overwrite).<br />
				 - "storenext" : Store the next slot (overwrite if need).<br />
				 - "storeend" : Store at new end slot.<br />
				 - "storeempty" : Store the first empty slot (store at new end slot if need).<br />
				 - "copy" : Copy a slot in another one.<br />
				 - "insert" : Insert a slot at index and increase nexts.<br />
				 - "renumber" : Renumber slots : 0, 1, 2, 3...<br />
				 - "remove" : Remove a slot.<br />
				 - "delete" : Remove a slot and decrease nexts.<br />
				 - "clear" : Remove all slots.<br />
				 - "recall" : Interpolate between two non consecutives slots.<br />
				 - "write" : Save the presets in JSON file.<br />
				 - "read" : Read preset from a JSON file.<br />
				 - "int" : Recall a slot.<br />
				 - "float" : Interpolate between two consecutives slots.<br />
				 - "storesource" : Store a source at a defined slot.<br />
				 - "storegroup" : Store a group at a defined slot.<br />
			</description>
		</method>
		<method name="trajectory">
			<arglist />
			<digest>
				Modify trajectory values.
			</digest>
			<description>
				<o>hoa.map</o> allows you to record and play trajectories. Trajectories record the position of sources or groups while you're draging it. You can overwrite with other sources or groups to create complex trajectories. Trajectory are saved in the patch and can be saved in a JSON file format.<br />
				 - Set "record 1" to enable the recording. Then draw your trajectory.<br />
				 - Use values between 0. and 1. to play/rewind the trajectory.<br />
				 - When a trajectory is recorded, you can overwrite it with another source or group. To limit the lenght of the new trajectory to the lenght of previous trajectory set "limit 1".<br />
				 - "erase" : Erase all the trajectory.<br />
				 - "erasepart" : Erase a part of the trajectory.  For example "erasepart 0. 0.1" to erase the beginning of the trajectory.<br />
				 - "write" : Save the presets in JSON file.<br />
				 - "read" : Read preset from a JSON file.<br />
			</description>
		</method>
		<method name="bang">
			<arglist />
			<digest>
				Output all sources and groups values.
			</digest>
			<description>
				Output all sources and groups values by the first and 2nd outlet.
			</description>
		</method>
		<method name="clear">
			<arglist />
			<digest>
				Clear All Sources and Groups.
			</digest>
			<description>
				Clear All Sources and Groups.
			</description>
		</method>
		<method name="getinfo">
			<arglist />
			<digest>
				Output informations.
			</digest>
			<description>
				Causes output informations about sources, groups and slots by the rightmost outlet.
			</description>
		</method>
		<method name="(mouse)">
			<digest>
				Click, right-click and drag to change values.
			</digest>
			<description>
				To move source, click on it and drag it. Click and drag with shift on source to change radius. Click and drag with ctrl to change angle.<br />
				To move group, click on it and drag it. Click and drag with shift to change the radius. Click and drag with ctrl to change angle. Click and drag with both to change both.<br />
				<br />
				To create source, right click on a "free" zone then select "Add source" in the popup menu. To remove source , right click on a source then select "Remove source".<br />
				<br />
				To create group, drag select a set of sources, when mouse up the group will be created. To remove group, right click on group then select "Remove group".<br />
				<br />
				To change zoom, use alt and mouse wheel.<br />
				<br />
				To change source or group color or description, right click on it and select "Set color" or "Set description". A picker color or a textfield will appear to edit it.<br />
				<br />
				To mute source or group, right click on it and select "Mute" or "Unmute".
			</description>
		</method>
	</methodlist>
    
	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="zoom" type="float" size="1">
			<digest>
				Change Zoom factor.
			</digest>
			<description>
				Change Zoom factor.
            </description>
		</attribute>
		<attribute name="outputmode" type="int" size="1">
			<digest>
				Change coordinate output Mode.
			</digest>
			<description>
				Change coordinate output Mode (polar or cartesian, default is Polar).
            </description>
		</attribute>
		<attribute name="bgcolor" type="floats" size="4">
			<digest>
				Background Outside color
			</digest>
			<description>
				Sets the RGBA values for the Background Outside color.
            </description>
		</attribute>
		<attribute name="bgcolor2" type="floats" size="4">
			<digest>
				Background Inside color
			</digest>
			<description>
				Sets the RGBA values for the Background Inside color.
            </description>
		</attribute>
		<attribute name="bdcolor" type="floats" size="4">
			<digest>
				Border color.
			</digest>
			<description>
				Sets the RGBA values for the Background Border color.
            </description>
		</attribute>
		<attribute name="selcolor" type="floats" size="4">
			<digest>
				Selection color.
			</digest>
			<description>
				Sets the RGBA values for the Background Selection color.
            </description>
		</attribute>
	</attributelist>
	<!--EXAMPLE-->
	<examplelist>
		<example img="" />
	</examplelist>
	<!--SEEALSO-->
	<seealsolist>
		<seealso name="hoa.connect" />
		<seealso name="hoa.control" />
		<seealso name="hoa.convolve~" />
		<seealso name="hoa.dac~" />
		<seealso name="hoa.decoder~" />
		<seealso name="hoa.encoder~" />
		<seealso name="hoa.gain~" />
		<seealso name="hoa.freeverb~" />
		<seealso name="hoa.map" />
		<seealso name="hoa.map~" />
        <seealso name="hoa.meter~" />
        <seealso name="hoa.optim~" />
        <seealso name="hoa.pi" />
        <seealso name="hoa.pi~" />
        <seealso name="hoa.play~" />
        <seealso name="hoa.plug~" />
        <seealso name="hoa.projector~" />
        <seealso name="hoa.recomposer" />
        <seealso name="hoa.recomposer~" />
        <seealso name="hoa.record~" />
        <seealso name="hoa.rotate~" />
        <seealso name="hoa.scope~" />
        <seealso name="hoa.space" />
        <seealso name="hoa.space~" />
        <seealso name="hoa.vector~" />
        <seealso name="hoa.wider~" />
	</seealsolist>
</c74object>
