<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="_c74_vig.xsl" type="text/xsl"?>
<vignette name="MIDI Setup Window">
	<header1>
	MIDI Setup Window
	</header1>
		<bodytext>
			On Windows, all MIDI devices which are installed correctly on your system and appear
			in the Sounds and Audio Devices Properties (Start > Settings > Sounds and Audio Devices)
			will be available to Max for MIDI I/O.
		</bodytext>
		<bodytext>
			On Macintosh, the OS X application Audio MIDI Setup, located in the Utilities folder
			inside the Applications folder, is used to set up and describe your MIDI setup.
		</bodytext>
		<bodytext>
			In addition to the standard MIDI drivers or drivers (CoreMIDI on the Mac and
			midi_mme on Windows ) or drivers you may have installed on your system,
			there are  additional MIDI drivers available for use:
		<ul>
		<li>
			The midi_adrewire driver sends and receives MIDI from a ReWire host application
			when Max is a ReWire client
		</li>
		<li>
			On Macintosh systems, the augraph driver addresses
			<link type="vignette" module="core" name="dls_synthesizer">DLS (Down-Loadable-Sounds) synthesizers</link>
			built into the
			Macintosh platform's OS.
		</li>
		<li>
			On Windows systems, the midi_dm driver addresses
			<link type="vignette" module="core" name="dls_synthesizer">DLS (Down-Loadable-Sounds) synthesizers</link>
			built into the
			Window platform's operating system.
		</li>
		</ul>
		</bodytext>
		<bodytext>
			Max allows you to have multiple active MIDI driver objects in operation and work with
			multiple input and output MIDI sources. In addition to identifying MIDI inputs and
			outputs by name, you can specify an input or output source by a letter (a-z), or by
			using MIDI channel numbers above 16.
		</bodytext>
		<bodytext>
			The MIDI Setup Window provides information on the availability and status of all
			available MIDI inputs and outputs, and lets you perform mapping between MIDI devices
			and names or numbers.
		</bodytext>
	<br />
	<bluebox>
	<header2>
	Viewing the MIDI Setup Window
	</header2>
		<ul>
		<li>
			Choose <b>MIDI Setup...</b> from the Options menu to show the MIDI Setup Window.
		</li>
		</ul>
		<bodytext>
			<img src="images/midi_setup_window1.png"  />
		</bodytext>
	</bluebox>
	<br />
	<header2>
	About the MIDI Setup Window:
	</header2>
		<bodytext>
			<i>On</i> shows whether the input or output device is enable (on) or disabled (off)
		</bodytext>
		<bodytext>
			<i>Name</i> shows the name of any MIDI devices currently available. Note that MIDI
			devices must be connected prior to starting the Max application in order to be available for use.
		</bodytext>
		<bodytext>
			The <i>Abbrev</i> and <i>Offset</i> columns contain pop-up menus listing the current abbreviation and
			channel offset associated with a MIDI input or output device.
		</bodytext>
	<header2>
	MIDI outputs and inputs
	</header2>
		<bodytext>
			Max uses an internal
			<link type="vignette" module="core" name="dls_synthesizer">DLS Synthesizer</link>
			supported by your Macintosh or Windows OS as its
			default MIDI output device.
		</bodytext>
	<header2>
	Mapping MIDI inputs and outputs
	</header2>
		<bodytext>
			The MIDI Setup window lists the MIDI device names and lets you associate letter
			abbreviations and ranges of MIDI channels with them.
		</bodytext>
	<br />
	<bluebox>
	<header2>
	Assigning MIDI abbreviations and channel ranges
	</header2>
		<ul>
		<li>
			Choose <b>MIDI Setup...</b> from the Options menu to show the MIDI Setup window
		</li>
		<li>
			To create a letter mapping for a MIDI input or output, click in the Abbrev
			column for the row corresponding to a MIDI input or output and choose a
			letter from the pop-up menu that appears. The MIDI input or output device can
			now be identified using the letter abbreviation you have selected.
		</li>
		</ul>
	</bluebox>
	<br />
		<bodytext>
			In the following example, MIDI input from any MIDI input objects with the letter b
			as an argument will accept input from another application (such as Ableton Live)
			that routes its MIDI output to the destination "to Max 1", and any input
			objects identified with the letter a as an argument will accept input from an
			external MIDI keyboard.
		</bodytext>
		<bodytext>
			<img src="images/midi_setup_window2.png"  />
		</bodytext>
		<bodytext>
			You can route MIDI input or output data based on the MIDI message’s channel numbers.
			All MIDI input or output devices mapped this way will allow input or output on 16
			channels, numbered from an initial offset value.
		</bodytext>
	<br />
	<bluebox>
	<header2>
	Mapping MIDI inputs and outputs using channel offsets
	</header2>
		<ul>
		<li>
			Choose <b>MIDI Setup...</b> from the Options menu to show the MIDI Setup Window.
		</li>
		<li>
			To create a letter mapping for a MIDI input or output, click in the Offset
			column for the row corresponding to a MIDI input or output and choose a
			channel offset value from the pop-up menu that appears. The MIDI input or
			output device can now be identified by sending or receiving a message whose
			MIDI channel number falls in the range <i>Offset Value</i> + 15.
		</li>
		</ul>
	</bluebox>
	<br />
		<bodytext>
			In the following example Max’s MIDI output will be sent to the AU DLS Synth
			if the output message is sent on MIDI channels 0-15, and to a MIDI interface
			if the message is sent to MIDI output channels 16-31.
		</bodytext>
		<bodytext>
			<img src="images/midi_setup_window3.png"  />
		</bodytext>
	<header2>
	Default Devices for MIDI Objects
	</header2>
		<bodytext>
			If you create a MIDI output object without specifying a device name, the object transmits
			MIDI to the first device (the default) in the list of output devices in the MIDI Setup window.
		</bodytext>
		<bodytext>
			On the Macintosh, the default MIDI output is an AudioUnit
			<link type="vignette" module="core" name="dls_synthesizer">DLS synthesizer</link>.
			The AU DLS synth supports its own set of internal sounds as a
			General MIDI bank, and also provides support for Level 2 SoundFont files.
		</bodytext>
		<bodytext>
			On Windows systems, the default MIDI output is the Microsoft DirectMusic
			<link type="vignette" module="core" name="dls_synthesizer">DLS synthesizer</link>.
			(Note: the Microsoft DLS synthesizer does not support SoundFont files)
		</bodytext>
		<bodytext>
			If you don’t assign MIDI input or output to a specific destination or port (i.e., one that does
			not have a MIDI device name or abbreviation as an argument) , Max will automatically merge all
			input devices. This is useful if you want to treat all MIDI input identically regardless of
			its source, But this also means that the only way for a Max patch to determine which device is
			actually the source of input to these objects is to compare the incoming MIDI channel number
			to the MIDI channel offset specified for each device.
		</bodytext>
		<bodytext>
			Note: The <o>midiin</o> object is an exception to this behavior — if you don’t use an argument
			to specify a device, it receives data only from the first device in the input device list.
			When multiple devices share the same letter abbreviation, Max will use the first one in the
			list at the time a MIDI input or output object is created with that abbreviation as an argument.
			Changing the abbreviations of devices has no effect on pre-existing objects, although it
			will have an effect on the meaning of subsequent port messages sent to MIDI output objects
			with abbreviations as argument.
		</bodytext>
</vignette>
